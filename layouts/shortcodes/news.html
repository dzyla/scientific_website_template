{{/* Collect news pages (section = "news"), newest first */}}
{{ $pages := where site.RegularPages "Section" "news" }}
{{ $sorted := $pages.ByDate.Reverse }}

<div class="news-container" style="--highlight-color: {{ site.Params.highlightColor | default "#1976d2" }};">
  <ul class="news-list">
    {{ range $sorted }}
    <li class="news-item">
      <!-- Semantic date -->
      <time class="news-date" datetime='{{ .Date.Format "2006-01-02" }}'>
        {{ .Date.Format "Jan 2, 2006" }}
      </time>

      <!-- Title + body block -->
      <div class="news-content">
        {{/* Title (linked if .Params.link exists) */}}
        {{ if .Params.link }}
        <a class="news-title-link" href="{{ .Params.link }}" target="_blank" rel="noopener noreferrer">
          {{ .Title }}
        </a>
        {{ else }}
        <span class="news-title">{{ .Title }}</span>
        {{ end }}

        {{/* Summary/body (falls back to .Summary; allow explicit .Params.summary if provided) */}}
        <div class="news-summary">
          {{ with .Params.summary }}{{ . | markdownify }}{{ else }}{{ .Summary }}{{ end }}
        </div>
      </div>
    </li>
    {{ else }}
    <li class="news-item">
      <time class="news-date" datetime="">â€”</time>
      <div class="news-content">
        <span class="news-title">No news to display</span>
        <div class="news-summary">Please check back soon.</div>
      </div>
    </li>
    {{ end }}
  </ul>
</div>