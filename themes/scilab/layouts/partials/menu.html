<ul class="menu-list">
  {{- $current := .Page -}}
  {{- range site.Menus.main -}}
    {{- /* Compute active state using the current page, plus a URL fallback */ -}}
    {{- $active := or ($current.IsMenuCurrent "main" .) ($current.HasMenuCurrent "main" .) -}}
    {{- $active = or $active (eq .URL $current.RelPermalink) -}}
    <li class="menu-item">
      <a
        class="menu-link{{ if $active }} active{{ end }}"
        href="{{ .URL | relLangURL }}"
        {{ if $active }}aria-current="page"{{ end }}
      >{{ .Name }}</a>
    </li>
  {{- end -}}
</ul>
